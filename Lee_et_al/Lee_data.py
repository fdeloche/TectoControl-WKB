import matplotlib.pyplot as plt
import pandas as pd
data = {
    'Frequency': [2000, 2500, 3000, 3500, 4000, 4500, 5000, 5500, 6000, 6500, 7000, 7500, 8000, 8500, 9000, 9500, 10000, 10500, 11000, 11500, 12000, 12500, 13000],
    '10': [None, None, None, None, None, None, None, None, None, None, None, 350.997352603768, 592.860540757179, 1112.77890133927, 2293.22969434204, 3714.3244551183, 6229.40058831099, 4597.79333532596, 1557.9544951673, 683.326940236952, 182.490040417293, None, None],
    '20': [None, None, None, None, 26.3206127695764, 62.5281986572733, 86.816032606199, 108.706578607125, 150.758978005171, 184.153658703327, 209.609257341824, 372.475283802367, 540.239960719587, 916.655954753083, 1884.05999293019, 2480.74747004677, 3146.19189817887, 2030.59078269894, 584.022357819718, 195.251161312475, 69.6339128173306, 30.0861440513463, None],
    '30': [None, None, None, 23.5998905480302, 41.6004560165802, 61.2483983584076, 82.6888345583358, 98.9464975733924, 146.206791201374, 182.227731441695, 184.63171020223, 355.576156354839, 469.990904244496, 797.269263023449, 1198.12254357065, 1321.01415129071, 1288.26020248932, 770.429218541637, 188.468961681249, 93.5737560831883, 27.8309932272685, 18.1361617048973, None],
    '40': [None, None, 8.29460561015864, 22.5905121136306, 35.5952745716712, 57.8565619274085, 68.9411576768698, 77.3720206616336, 112.014059200127, 131.945343489672, 185.868723772737, 304.306097395268, 370.329847819668, 477.509478345696, 588.326321403522, 583.483858923921, 498.099073202595, 271.074777671622, 77.2781420857479, 32.3064032544281, 8.28473250485697, 5.03708717251396, None],
    '50': [None, None, 12.296262657518, 18.9895166800196, 32.0066404363683, 51.8031084522431, 64.8091470553125, 79.956126776211, 99.4019084366522, 115.737408605817, 119.214566291954, 184.588507322477, 185.391705436556, 225.150919060978, 242.755676109362, 239.091930060454, 198.223258420888, 96.5157622747769, 29.4380813415038, 10.6962464263926, 4.4704331649002, 2.44804075710711, None],
    '60': [None, None, 12.828008955746, 18.9664257180025, 29.8606906428224, 45.9120228539898, 52.2536136843394, 60.1124338600289, 68.2050362135096, 73.4544130108225, 75.1349400531231, 95.1532037000791, 85.6532828773444, 96.9403380005856, 92.7970971443131, 81.9300362575657, 62.121173220302, 30.9707334532708, 9.93640594120551, 3.94172507288783, 1.32108496762439, 0.677283497526861, None],
    '70': [4.62208444689661, 4.22777031208699, 10.7795571719445, 20.7089920480876, 30.3885002328699, 39.3777148713863, 46.7570870267988, 53.0954915131275, 51.4304725626102, 45.8526557324752, 38.598865199299, 44.2681624036418, 34.1421451663735, 32.8860039108942, 32.9245757356011, 28.4016530244628, 19.6697829354867, 10.5026612839816, 2.59507345956249, 1.10609980818765, 0.433172463030919, 0.183519578635397, 0.26606417001369],
    '80': [5.1079220387139, 6.91399808866703, 14.8084939998698, 22.650320705695, 33.5546693610488, 40.2353064662295, 43.5815861471458, 45.9611065139671, 41.3610565949759, 33.0748822975084, 24.4320493895382, 23.1337683108809, 17.7624271524829, 15.0345411860299, 13.7947558706275, 9.79050265744218, 6.52723157323625, 3.6296906907229, 0.825428936719763, 0.448430454233092, 0.195658765621557, 0.0785029762430697, 0.0879610915192684]
}


data_phase = {
    'Frequency': [2000, 2500, 3000, 3500, 4000, 4500, 5000, 5500, 6000, 6500, 7000, 7500, 8000, 8500, 9000, 9500, 10000, 10500, 11000, 11500, 12000, 12500, 13000],
'10': [None,None,None,None,None,None,None,None,None,None,None,-6.77067612378204,-8.05625553937113,-9.24418641008733,-10.778245180802,-12.2633737947276,-14.7516481180179,-16.4173076539088,-19.540361429282,-21.4165425840038,-23.68166595,None,None],
'20': [None,None,None,None,-1.002433388,-1.1076240405,-1.88880550978204,-2.74999081678204,-3.85480550978204,-4.77949081678204,-5.69649081678204,-6.91608347028204,-7.726433388,-9.21157131437267,-10.0865263429724,-12.0456564417209,-14.280676124282,-16.583861429282,-19.237768774282,-21.279753609282,-23.85272821,-26.3073934852619,None],
'30': [None,None,None,-0.435305509782041,-0.631337461097669,-1.18168146928204,-1.9191240405,-2.71699081678204,-3.7936240405,-4.77386677628204,-5.78086877686376,-6.90016762062811,-8.32049167962448,-9.34926626078706,-10.3563915560656,-12.1986128906829,-13.584117625,-16.098861429282,-19.03204298,-21.1753668650073,-23.801956005351,-28.3106709670665,None],
'40': [None,None,0.431751919,-0.0325378266249999,-0.78486594399573,-1.21518146928204,-2.00030550978204,-2.819433388,-4.20878703078204,-4.90849081678204,-5.79369942583528,-7.09417612378204,-8.27447448028204,-9.34317612178204,-10.614176124282,-11.985345625,-14.002676124282,-15.714361429282,-18.426436944282,-20.9111365589021,-24.174601895,-27.4721456,None],
'50': [None,None,0.2723759595,-0.188710534340036,-0.797548245564083,-1.29819896966596,-2.1861870605,-2.8938093475,-4.11789816328204,-5.0798093475,-5.99013438220816,-7.27367612378204,-8.37537801489691,-9.34278168383827,-10.691676124282,-12.049604844282,-13.8788498252006,-15.0918281966285,-18.569861429282,-21.701750465,-24.14190838,-27.2305272183995,None],
'60': [None,0.531637061435917,-0.0663629385640827,-0.386996167867856,-1.12786677628204,-1.6711150925,-2.3715228985,-3.1931639775,-4.3697909815,-5.283917684,-6.60719777428204,-7.69267612378204,-8.79349081828204,-9.99567612178204,-11.483176124282,-12.862361429282,-14.8346081965452,-15.5397072996319,-18.9172128343291,-20.7573451228043,-23.6298287944387,-23.8103172525273,None],
'70':[ 0.0618185307179586,0.0497860531749424,-0.321681469282041,-0.860681469282041,-1.4823093475,-2.151633915,-3.01622544089141,-3.8913093475,-5.0818093475,-6.26477177682016,-7.56099081678204,-8.62917612178204,-9.70658346828204,-10.9775822812209,-12.359176124282,-13.930861429282,-15.818861429282,-17.8799839382806,-19.8230460254679,-21.6393927821711,-23.7802786647806,-23.749813320886,-25.4356557259417],
'80': [-0.0176814692820413,-0.0951814692820414,-0.611300625627931,-1.13530550978204,-2.02590731,-2.783696104,-3.5742852885,-4.7184961,-6.01574051459134,-7.22725061760996,-8.43609735791359,-9.55717612178204,-10.828676124282,-11.947040995712,-13.322176124282,-15.103361429282,-16.435361429282,-18.2728530824,-20.4087010914584,-23.088483185,-25.6885823,-24.9010055712212,-29.2287293340281],
}


df_gain = pd.DataFrame(data)

df_phase = pd.DataFrame(data_phase)

if __name__ == 'main':
    plt.figure(figsize=(12, 8))

    # Iterate through each column (10, 20, 30, ...) and plot against 'Frequency'
    for col in df_gain.columns[1:]:
        plt.plot(df_gain['Frequency']/1000, df_gain[col], marker='o', label=f'Level: {col} dB')

    # Set x-axis to logarithmic scale
    plt.xscale('log')
    plt.yscale('log')
    plt.xlabel('Frequency (kHz)')
    plt.ylabel('Gain')
    plt.title('Gain (Frequency)')
    plt.legend(bbox_to_anchor=(1.05, 1), loc='upper left', fontsize='small')
    plt.grid(True, which="both", ls="--")
    #plt.savefig('./Francois/Lee_gain.png')
    plt.show()
